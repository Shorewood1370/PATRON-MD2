const a64_0xf8390e=a64_0x2384;(function(_0x3b73e4,_0x4490fd){const _0x4244eb=a64_0x2384,_0x713235=_0x3b73e4();while(!![]){try{const _0x1ffc17=-parseInt(_0x4244eb(0x1c9))/0x1+-parseInt(_0x4244eb(0x192))/0x2*(-parseInt(_0x4244eb(0x1a7))/0x3)+-parseInt(_0x4244eb(0x1a2))/0x4*(-parseInt(_0x4244eb(0x1ac))/0x5)+-parseInt(_0x4244eb(0x1cb))/0x6+-parseInt(_0x4244eb(0x1d2))/0x7*(parseInt(_0x4244eb(0x1c5))/0x8)+parseInt(_0x4244eb(0x1d1))/0x9*(parseInt(_0x4244eb(0x19c))/0xa)+parseInt(_0x4244eb(0x18c))/0xb;if(_0x1ffc17===_0x4490fd)break;else _0x713235['push'](_0x713235['shift']());}catch(_0x162faf){_0x713235['push'](_0x713235['shift']());}}}(a64_0xac7f,0x54c0e));const {cmd}=require('../command'),{loadSettings,saveSettings}=require(a64_0xf8390e(0x1b0));let settings=loadSettings(),welcomeSettings=settings['welcome']||{},goodbyeSettings=settings[a64_0xf8390e(0x1c3)]||{};const {getPDMStatus}=require(a64_0xf8390e(0x1bb)),defaultWelcomeMessage='Welcome\x20{user}\x20to\x20{group}!\x20We\x27re\x20glad\x20to\x20have\x20you\x20here.',defaultGoodbyeMessage=a64_0xf8390e(0x1a6);function formatMessage(_0x5ab571,_0x158363,_0x537869,_0x58592c){const _0x5b0f7c=a64_0xf8390e,_0x4a5af8={'vvzHZ':function(_0x17c5e3,_0x9d35c9){return _0x17c5e3||_0x9d35c9;},'nbtXe':_0x5b0f7c(0x1b4)};return _0x5ab571[_0x5b0f7c(0x1b9)](/{user}/g,_0x158363)[_0x5b0f7c(0x1b9)](/{group}/g,_0x4a5af8[_0x5b0f7c(0x1ad)](_0x537869,_0x4a5af8['nbtXe']))['replace'](/{gname}/g,_0x4a5af8['vvzHZ'](_0x537869,_0x4a5af8[_0x5b0f7c(0x1c4)]))[_0x5b0f7c(0x1b9)](/{count}/g,_0x58592c||'0');}function a64_0x2384(_0x4a43b8,_0x2ca48d){const _0xac7f6c=a64_0xac7f();return a64_0x2384=function(_0x238475,_0x4f8170){_0x238475=_0x238475-0x185;let _0x1f0f00=_0xac7f6c[_0x238475];return _0x1f0f00;},a64_0x2384(_0x4a43b8,_0x2ca48d);}cmd({'pattern':a64_0xf8390e(0x185),'alias':[a64_0xf8390e(0x193),'wm'],'desc':a64_0xf8390e(0x190),'category':a64_0xf8390e(0x1cc),'filename':__filename},async(_0x41690d,_0x422aa1,_0x54d400,{from:_0x548e47,args:_0x463467,reply:_0x419509,isGroup:_0x59874c,isBotAdmins:_0x288296})=>{const _0x5910f4=a64_0xf8390e,_0x110e6b={'AhVas':_0x5910f4(0x1c1),'llZTX':function(_0x26647c,_0x309514){return _0x26647c(_0x309514);},'sCCjk':_0x5910f4(0x197),'fRQwm':function(_0x4b6784,_0x21d3b7){return _0x4b6784===_0x21d3b7;},'CfvtN':_0x5910f4(0x1bf),'aamck':function(_0x28e90c,_0x1b691c){return _0x28e90c(_0x1b691c);},'xKeWs':function(_0x5cc47a,_0x206c20){return _0x5cc47a===_0x206c20;},'FEYHS':_0x5910f4(0x1b3),'ROZZP':'‚úÖ\x20Welcome\x20messages\x20updated'};await _0x41690d[_0x5910f4(0x18d)](_0x54d400[_0x5910f4(0x1c8)],{'react':{'text':'üëã','key':_0x54d400['key']}});if(!_0x59874c)return _0x419509(_0x110e6b['AhVas']);if(!_0x288296)return _0x110e6b[_0x5910f4(0x189)](_0x419509,_0x110e6b[_0x5910f4(0x1bc)]);try{if(!_0x463467[_0x5910f4(0x1be)]){const _0x391fec=welcomeSettings[_0x548e47],_0x41a0cb=_0x391fec?.['enabled']?_0x5910f4(0x19d)+(_0x391fec[_0x5910f4(0x1a9)]||defaultWelcomeMessage):'‚ùå\x20*Disabled*';return _0x419509(_0x5910f4(0x1c0)+_0x41a0cb+'\x0a\x0aUsage:\x0a‚Ä¢\x20welcome\x20on/off\x0a‚Ä¢\x20welcome\x20<custom\x20message>\x0a\x0aüìå\x20*Tip:*\x20You\x20can\x20use\x20these\x20placeholders\x20in\x20your\x20message:\x0a‚Ä¢\x20{user}\x20-\x20mentions\x20the\x20new\x20member\x0a‚Ä¢\x20{group}\x20-\x20group\x20name\x0a‚Ä¢\x20{gname}\x20-\x20alternative\x20for\x20group\x20name\x0a‚Ä¢\x20{count}\x20-\x20member\x20count');}const _0x32182b=_0x463467[0x0][_0x5910f4(0x1a8)]();if(_0x110e6b[_0x5910f4(0x1b8)](_0x32182b,'on'))welcomeSettings[_0x548e47]={'enabled':!![],'message':defaultWelcomeMessage};else _0x110e6b['fRQwm'](_0x32182b,_0x110e6b[_0x5910f4(0x1a5)])?welcomeSettings[_0x548e47]={'enabled':![]}:welcomeSettings[_0x548e47]={'enabled':!![],'message':_0x463467[_0x5910f4(0x18a)]('\x20')};return settings[_0x5910f4(0x185)]=welcomeSettings,_0x110e6b[_0x5910f4(0x1aa)](saveSettings,settings),_0x110e6b['llZTX'](_0x419509,_0x110e6b[_0x5910f4(0x1d0)](_0x32182b,_0x110e6b['CfvtN'])?_0x110e6b['FEYHS']:_0x110e6b[_0x5910f4(0x1cf)]);}catch(_0x114e36){return console[_0x5910f4(0x1c6)]('Welcome\x20command\x20error:',_0x114e36),_0x110e6b['aamck'](_0x419509,_0x5910f4(0x1c2));}}),cmd({'pattern':a64_0xf8390e(0x1c3),'alias':['gb','bye'],'desc':a64_0xf8390e(0x19b),'category':a64_0xf8390e(0x1cc),'filename':__filename},async(_0x49a2b1,_0x560d8b,_0x3995f7,{from:_0xdcc79a,args:_0x3ced96,reply:_0xac814e,isGroup:_0x1d053e,isBotAdmins:_0x4af273})=>{const _0xfbc08b=a64_0xf8390e,_0x5d406e={'faLXj':function(_0x176ab1,_0x17c753){return _0x176ab1(_0x17c753);},'rqNnu':function(_0x28d555,_0x80718b){return _0x28d555(_0x80718b);},'xQRay':function(_0xfd392d,_0x1c95c7){return _0xfd392d===_0x1c95c7;},'dweUY':_0xfbc08b(0x1bf),'ONumh':_0xfbc08b(0x1ae),'xVTGi':'Goodbye\x20command\x20error:'};await _0x49a2b1[_0xfbc08b(0x18d)](_0x3995f7['chat'],{'react':{'text':'üëã','key':_0x3995f7[_0xfbc08b(0x188)]}});if(!_0x1d053e)return _0x5d406e[_0xfbc08b(0x198)](_0xac814e,_0xfbc08b(0x1c1));if(!_0x4af273)return _0x5d406e['rqNnu'](_0xac814e,_0xfbc08b(0x1ca));try{if(!_0x3ced96[_0xfbc08b(0x1be)]){const _0x5de45e=goodbyeSettings[_0xdcc79a],_0x489bd5=_0x5de45e?.[_0xfbc08b(0x1d3)]?_0xfbc08b(0x19d)+(_0x5de45e[_0xfbc08b(0x1a9)]||defaultGoodbyeMessage):_0xfbc08b(0x18f);return _0x5d406e[_0xfbc08b(0x198)](_0xac814e,'Current\x20goodbye\x20settings:\x0a\x0a'+_0x489bd5+_0xfbc08b(0x1a4));}const _0x35983e=_0x3ced96[0x0][_0xfbc08b(0x1a8)]();if(_0x5d406e[_0xfbc08b(0x19f)](_0x35983e,'on'))goodbyeSettings[_0xdcc79a]={'enabled':!![],'message':defaultGoodbyeMessage};else _0x35983e===_0x5d406e[_0xfbc08b(0x199)]?goodbyeSettings[_0xdcc79a]={'enabled':![]}:goodbyeSettings[_0xdcc79a]={'enabled':!![],'message':_0x3ced96[_0xfbc08b(0x18a)]('\x20')};return settings[_0xfbc08b(0x1c3)]=goodbyeSettings,saveSettings(settings),_0x5d406e[_0xfbc08b(0x198)](_0xac814e,_0x5d406e[_0xfbc08b(0x19f)](_0x35983e,_0x5d406e[_0xfbc08b(0x199)])?_0x5d406e[_0xfbc08b(0x1ce)]:_0xfbc08b(0x191));}catch(_0x4f7ed4){return console[_0xfbc08b(0x1c6)](_0x5d406e[_0xfbc08b(0x1a1)],_0x4f7ed4),_0x5d406e[_0xfbc08b(0x195)](_0xac814e,'‚ùå\x20Error\x20updating\x20goodbye\x20settings');}});function registerGroupMessages(_0x941dac){const _0xff675f=a64_0xf8390e,_0x2f9c89={'XZoQq':function(_0x57bdc8,_0x3fab32,_0x4411a3,_0x25ec4c,_0x72ad54){return _0x57bdc8(_0x3fab32,_0x4411a3,_0x25ec4c,_0x72ad54);},'GLfNt':function(_0x4c8aaa,_0xe4d008){return _0x4c8aaa===_0xe4d008;},'soTYl':_0xff675f(0x19e),'AAsBx':'remove','SxxtH':_0xff675f(0x186),'HAvUd':_0xff675f(0x1b1),'shneD':function(_0x427358,_0x362312){return _0x427358(_0x362312);},'cvrEL':function(_0x5d3793,_0x1b2a8f){return _0x5d3793===_0x1b2a8f;},'pXMLW':_0xff675f(0x1b6),'jjGSW':_0xff675f(0x1ab),'EeIpU':'group-participants.update'};_0x941dac['ev']['on'](_0x2f9c89['EeIpU'],async _0x160fe6=>{const _0x4628f3=_0xff675f,_0x493174=_0x160fe6['id'];try{const _0x360ba2=await _0x941dac['groupMetadata'](_0x493174)[_0x4628f3(0x1b2)](()=>null),_0x5bf514=_0x360ba2?.[_0x4628f3(0x1ba)]||_0x4628f3(0x1c7),_0x4a0d54=_0x360ba2?.[_0x4628f3(0x194)]?.[_0x4628f3(0x1be)]||0x0,_0x3e2dd8=async(_0x5979fc,_0x1e3408)=>{const _0x52754d=_0x4628f3,_0x4dee2a=_0x1e3408?welcomeSettings[_0x493174]:goodbyeSettings[_0x493174];if(!_0x4dee2a?.[_0x52754d(0x1d3)])return;const _0x2afb9c=_0x4dee2a[_0x52754d(0x1a9)]||(_0x1e3408?defaultWelcomeMessage:defaultGoodbyeMessage),_0x2cc1e5='@'+_0x5979fc[_0x52754d(0x1bd)]('@')[0x0],_0x3b786f=_0x2f9c89[_0x52754d(0x18e)](formatMessage,_0x2afb9c,_0x2cc1e5,_0x5bf514,_0x4a0d54);await _0x941dac[_0x52754d(0x18d)](_0x493174,{'text':_0x3b786f,'mentions':[_0x5979fc]});};if(_0x2f9c89['GLfNt'](_0x160fe6[_0x4628f3(0x1a3)],_0x2f9c89['soTYl']))for(const _0x564807 of _0x160fe6['participants']){await _0x3e2dd8(_0x564807,!![]);}else{if(_0x2f9c89[_0x4628f3(0x1b5)](_0x160fe6[_0x4628f3(0x1a3)],_0x2f9c89['AAsBx']))for(const _0x16d7c0 of _0x160fe6[_0x4628f3(0x194)]){await _0x3e2dd8(_0x16d7c0,![]);}else{if(_0x160fe6['action']===_0x2f9c89[_0x4628f3(0x1a0)]||_0x2f9c89[_0x4628f3(0x1b5)](_0x160fe6['action'],_0x2f9c89[_0x4628f3(0x196)])){if(getPDMStatus&&_0x2f9c89[_0x4628f3(0x187)](getPDMStatus,_0x493174))for(const _0x15683b of _0x160fe6[_0x4628f3(0x194)]){const _0x21d4b9=_0x160fe6[_0x4628f3(0x18b)]||_0x160fe6[_0x4628f3(0x19a)]||_0x15683b,_0x415af0=_0x2f9c89[_0x4628f3(0x1af)](_0x160fe6[_0x4628f3(0x1a3)],_0x2f9c89[_0x4628f3(0x1a0)])?_0x2f9c89['pXMLW']:_0x2f9c89[_0x4628f3(0x1b7)],_0x108dda=_0x160fe6[_0x4628f3(0x1a3)]===_0x2f9c89[_0x4628f3(0x1a0)]?'üéâ':'üö´';await _0x941dac['sendMessage'](_0x493174,{'text':_0x108dda+'\x20*@'+_0x21d4b9[_0x4628f3(0x1bd)]('@')[0x0]+'*\x20'+_0x415af0+'\x20*@'+_0x15683b['split']('@')[0x0]+'*','mentions':[_0x21d4b9,_0x15683b]});}}}}}catch(_0x5f54b4){console[_0x4628f3(0x1c6)](_0x4628f3(0x1cd),_0x5f54b4);}});}function a64_0xac7f(){const _0x416129=['GLfNt','promoted','jjGSW','fRQwm','replace','subject','./pdmCommands','sCCjk','split','length','off','Current\x20welcome\x20settings:\x0a\x0a','‚ùå\x20This\x20command\x20only\x20works\x20in\x20groups','‚ùå\x20Error\x20updating\x20welcome\x20settings','goodbye','nbtXe','200GXWnnT','error','the\x20group','chat','283948RIYEOG','‚ùå\x20Bot\x20needs\x20admin\x20rights\x20to\x20manage\x20goodbye\x20messages','898464ZiVxbS','group','Group\x20update\x20handler\x20error:','ONumh','ROZZP','xKeWs','4140351jmmHmG','131649AkyqqL','enabled','welcome','promote','shneD','key','llZTX','join','author','2167946LGLWpq','sendMessage','XZoQq','‚ùå\x20*Disabled*','Manage\x20welcome\x20messages\x20in\x20groups','‚úÖ\x20Goodbye\x20messages\x20updated','4SSriub','welc','participants','rqNnu','HAvUd','‚ùå\x20Bot\x20needs\x20admin\x20rights\x20to\x20manage\x20welcome\x20messages','faLXj','dweUY','actor','Manage\x20goodbye\x20messages\x20in\x20groups','10kTIJxa','‚úÖ\x20*Enabled*\x0aüí¨\x20Message:\x20','add','xQRay','SxxtH','xVTGi','9852OfvAbO','action','\x0a\x0aUsage:\x0a‚Ä¢\x20goodbye\x20on/off\x0a‚Ä¢\x20goodbye\x20<custom\x20message>\x0a\x0aüìå\x20*Tip:*\x20You\x20can\x20use\x20these\x20placeholders\x20in\x20your\x20message:\x0a‚Ä¢\x20{user}\x20-\x20mentions\x20the\x20leaving\x20member\x0a‚Ä¢\x20{group}\x20-\x20group\x20name\x0a‚Ä¢\x20{gname}\x20-\x20alternative\x20for\x20group\x20name\x0a‚Ä¢\x20{count}\x20-\x20member\x20count','CfvtN','Goodbye\x20{user}.\x20We\x27ll\x20miss\x20you\x20in\x20{group}.','513999FlDEkH','toLowerCase','message','aamck','demoted','510LEgzGT','vvzHZ','‚ùå\x20Goodbye\x20messages\x20disabled','cvrEL','../lib/groupMessagesStorage','demote','catch','‚ùå\x20Welcome\x20messages\x20disabled','this\x20group'];a64_0xac7f=function(){return _0x416129;};return a64_0xac7f();}module['exports']={'registerGroupMessages':registerGroupMessages};